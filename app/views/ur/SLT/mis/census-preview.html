{% extends 'layout_mis.html' %}

{% block pageTitle %}
    Spring census submission
{% endblock %}

{% block content %}
<div class="submission">
    <div class="row">
        <div class="width-container">
            <div class="col-two-thirds">
                <h1>Spring census preview</h1>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="width-container" style="justify-content: space-between;">
            <div class="col-one-half">
                <h2>Absence report</h2>
                <p>Compare your schoolâ€™s authorised, unauthorised and persistent absences against the previous term and the previous year as well as other schools in the UK.</p>
                <p><a href="absence-report" class="button">
                    <svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 64 64"><title>Icons 300</title><path d="M22.8189,9.3251a.81.81,0,0,1-.0891,1.1467l-12.411,10.385a.8219.8219,0,0,1-1.1522-.1083,8.92,8.92,0,0,1,.98-12.6148A9.0484,9.0484,0,0,1,22.8189,9.3251ZM28.01,12.4046v-.3838a2,2,0,0,1,2-2h4a2,2,0,0,1,2,2v.3838A20.9773,20.9773,0,0,1,48.494,46.0034l3.4713,6.9334a.7491.7491,0,0,1-.6709,1.084h-3.99a2.0009,2.0009,0,0,1-1.4143-.5851l-2.6776-2.6742a20.8772,20.8772,0,0,1-22.4037,0l-2.6776,2.6742a2,2,0,0,1-1.414.5851h-3.99a.7491.7491,0,0,1-.671-1.084l3.4709-6.9334A20.9778,20.9778,0,0,1,28.01,12.4046Zm-3.933,27.5042,9.5591-4.4718a2.3857,2.3857,0,0,0,1.3825-2.4112C35,32.8509,33.5251,18.5068,33.5068,18.33a1.5087,1.5087,0,0,0-3,0l-1.3546,13.168-6.6382,5.9969A1.4546,1.4546,0,0,0,24.0774,39.9088ZM41.2018,9.2959A9.0452,9.0452,0,0,1,53.8741,8.1038a8.93,8.93,0,0,1,.98,12.6227.8217.8217,0,0,1-1.1522.1084L41.2909,10.4434A.8111.8111,0,0,1,41.2018,9.2959Z" fill-rule="evenodd"></path></svg>
                    Open absence report
                </a></p>
                <br>
            </div>            
        </div>
    </div>
</div>

<script>
$('.increment').on('click', function () {
    var original = parseInt($(this).text())
    $(this).text(Math.floor(original/2))
})
</script>

<div class="row">
    <div class="width-container">
        <div class="col-one-quarter">
            <h1 style="font-weight: 900;">{{ data.sltSchool.errors | length }} errors</h1>
        </div>
        <div class="col-three-quarters">
            <table>
                <thead>
                    <tr>
                        <th>Error number</th>
                        <th>Type</th>
                        <th>Records affected</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th>2335</th>
                        <td>Pupil</td>
                        <td>
                        <a href="#">47</a>
                        </td>
                        <td>
                            Permanent exclusion appears for pupil still on roll
                        </td>
                    </tr>
                    <tr>
                        <th>1930</th>
                        <td>Pupil</td>
                        <td>
                        <a href="#">1</a>
                        </td>
                        <td>
                            Pupil part-time indicator is missing or invalid
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
<div class="row">
    <div class="width-container">
        <div class="col-one-quarter">
            <h1 style="font-weight: 900;">{{ data.sltSchool.queries | length }} queries</h1>
        </div>
        <div class="col-three-quarters">
            <table>
                <thead>
                    <tr>
                        <th>Error number</th>
                        <th>Type</th>
                        <th>Records affected</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    {% for query in data.sltSchool.queries %}
                    <tr>
                        <th>{{ query.number }}</th>
                        <td>{{ query.type | sentenceCase }}</td>
                        <td>
                        {% if query.pupils %}
                            <a href="#">
                                {{ query.pupils | length if query.pupils }}
                            </a>
                        {% endif %}
                        </td>
                        <td>{{ query.description }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

{% endblock %}

{% block pageScripts %}

{% endblock %}